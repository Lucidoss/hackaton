{% extends 'base.html.twig' %}

{% block title %}Hackathons
{% endblock %}
{% block body %}
	<link rel="stylesheet" href="{{asset('style.css')}}">
	<link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
	<script src="https://kit.fontawesome.com/a076d05399.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<link rel="icon" type="image/x-icon" href="{{asset('images/logo.png')}}">
	<input type="checkbox" id="active">
	<label for="active" class="menu-btn">
		<span></span>
	</label>
	<label for="active" class="close"></label>
	<div class="wrapper">
		<ul>
			<li><a href="/">Accueil</a></li>
			<li><a href="/presentation">Presentation</a></li>
			<li><a href="/hackathon">Hackathons</a></li>
			<div class="alignement" style="display: table;">
			<li style="padding-left:200px"><a href="/deconnexion"><img src="{{asset('images/deconnexion.png')}}" style="width:50px"></a></li>
			<li><a href="/connexion"><img src="{{asset('images/connexion.png')}}" style="width:50px"></a></li>
			</div>
		</ul>
	</div>
<div style="z-index: -1;position: absolute;">

<h1>Il existe {{ lesHackathons|length() }} Hackathons.</h1>
<input id="searchbar" onkeyup="search_hackathons()" type="text"
        name="search" placeholder="Rechercher un hackathons">



   {% for hackathon in lesHackathons %}
   <ol style="list-style: none">
     <div class="col-12">
	 			<div class="hackathon">
				<li><a href="/hackathon/"><img src={{ hackathon.IMAGE }} alt="Aucune image" style="width: 18rem"/></a></li>
				<li>{{ hackathon.THEME }}</li>
				<li>Ville: {{ hackathon.VILLE }}</li>
				<li>Rue: {{ hackathon.RUE }}</li>
				<li>Du: {{ hackathon.DATEDEBUT|date('d/m/Y') }}</li>
				<li>Au: {{ hackathon.DATEFIN|date('d/m/Y') }}</li>
				<li>Places: {{ hackathon.NBPLACES }}</li>
				</div>
	</div>
	</ol>
    </br>
    {% endfor %} 

<script>
function search_hackathons() {
    let input = document.getElementById('searchbar').value
    input=input.toLowerCase();
    let x = document.getElementsByClassName('hackathon');
      
    for (i = 0; i < x.length; i++) { 
        if (!x[i].innerHTML.toLowerCase().includes(input)) {
            x[i].style.display="none";
        }
        else {
            x[i].style.display="list-item";                 
        }
    }
}

</script>

</div>{% endblock %}
